{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Mini POS System</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Bootstrap 5 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<style>
  .carousel-img-container {
    /* Sets the height to 75% of the viewport height (vh) */
    height: 75vh;
    /* Prevents image overflow and maintains the container's size */
    overflow: hidden;
    position: relative;
  }

  .carousel-img-container img {
    /* Ensures the image covers the entire container without distortion */
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  .carousel-caption {
    /* Makes the text more readable with a semi-transparent background */
    background-color: rgba(0, 0, 0, 0.6);
    border-radius: 0.5rem;
    padding: 1rem;
    bottom: 2rem;
    /* Adjust the position from the bottom */
    left: 5%;
    right: 5%;
  }

  /* Responsive adjustments for smaller screens */
  @media (max-width: 768px) {
    .carousel-caption {
      bottom: 1rem;
    }
  }

  /* Custom CSS for the read more functionality */
  .card-text-truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
  }

  .card-text-expanded {
    -webkit-line-clamp: unset;
  }

  .read-more-btn {
    cursor: pointer;
    color: var(--bs-primary);
    text-decoration: underline;
  }
</style>

<body>

  {% include './basepages/nav.html' %}


  <div class="container">
    <section class="coursel container-fluid mb-4">
      <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel" data-bs-interval="2000">
        <!-- Carousel Indicators -->
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active"
            aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1"
            aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2"
            aria-label="Slide 3"></button>
        </div>

        <!-- Carousel Inner Content -->
        <div class="carousel-inner">
          <div class="carousel-item active">
            <div class="carousel-img-container">
              <!-- Placeholder image URL is used here. Replace this with your own image links. -->
              <img src="{% static 'beer.jpeg'%}" class="d-block" alt="Beer">
            </div>
            <div class="carousel-caption d-none d-md-block">
              <h5>Refreshing Beer</h5>
              <p>Enjoy a cold one after a long day.</p>
            </div>
          </div>
          <div class="carousel-item">
            <div class="carousel-img-container">
              <img src="{% static 'chickensoup.jpeg'%}" class="d-block" alt="Chicken Soup">
            </div>
            <div class="carousel-caption d-none d-md-block">
              <h5>Hearty Chicken Soup</h5>
              <p>A classic comfort food to warm your soul.</p>
            </div>
          </div>
          <div class="carousel-item">
            <div class="carousel-img-container">
              <img src="{% static 'noodle.jpeg'%}" class="d-block" alt="Noodles">
            </div>
            <div class="carousel-caption d-none d-md-block">
              <h5>Delicious Noodles</h5>
              <p>Perfectly seasoned noodles for a quick meal.</p>
            </div>
          </div>
        </div>

        <!-- Carousel Controls -->
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators"
          data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators"
          data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>
    </section>
    <section class="menuitem shadow-sm border" id="menuitem">
      <h4 class="text-center">Todays Get Items</h4>
      <div class="row">
        <div class="col-lg-2 col-md-2"></div>
        <div class="col-lg-8 col-md-8">
          <div class="row">
            <div class="col-lg-4 col-md-4"></div>
            <div class="col-lg-4 col-md-4">
              <h5 class="text-center">Categoies</h5>
              <div class="d-flex justify-content-center">
                <div class="dropdown">
                  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    Category
                  </button>
                  <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                    {% for category in categories %}
                    <li>
                      <a class="dropdown-item {% if category == selected_category %}active{% endif %}"
                        href="?category={{ category.id }}#menuitem">
                        {{ category.name }}
                      </a>
                    </li>
                    {% endfor %}
                  </ul>
                </div>
              </div>
            </div>
            <div class="col-lg-4 col-md-4"></div>
          </div>
        </div>
        <div class="col-lg-2 col-md-2"></div>
      </div>
      <div class="row my-4">
        {% if menu_items %}
        {% for item in menu_items %}
        <div class="col-md-4 col-lg-4">
          <div class="card shadow-sm mx-auto m-3" style="max-width: 25rem;">
            <img src="{{item.image.url}}" class="card-img-top" alt="Card image">
            <div class="card-body">
              <h5 class="card-title">{{item.name}}</h5>
              <p id="card-text" class="card-text card-text-truncate">
                {{item.description}}
              </p>
              <span class="read-more-btn">Read more...</span>
            </div>
            <div class="card-footer d-flex justify-content-between align-items-center">
              <span class="fs-5 fw-bold">${{item.price}}</span>
              <a href="#" class="btn btn-primary">Details</a>
            </div>
          </div>
        </div>
        {% endfor %}
        {% else %}
        <div class="alert alert-danger">
        <h1 class="text-danger text-center">No Data</h1>
        </div>
        {% endif %}
      </div>
      <div class="row my-4 py-4">
        <div class="d-flex justify-content-center">
          {% if current < item_length%}
          <a class="btn btn-primary show-more-btn">Show More</a>
          {% endif %}
        </div>
      </div>
    </section>
    <section class="container my-5" id="about">
      <div class="row g-0">
        <div class="col-md-5 d-flex align-items-center justify-content-center">
          <img src="https://placehold.co/400x400/87CEEB/FFFFFF?text=Our+Team" class="img-fluid rounded-start"
            alt="About Us">
        </div>
        <div class="col-md-7">
          <div class="card-body">
            <h5 class="card-title text-center mb-3">About Us</h5>
            <p class="card-text text-muted text-center">
              Welcome to our food service! We are passionate about creating delicious meals and providing a memorable
              dining experience. Our team of chefs uses only the freshest, high-quality ingredients to craft a menu that
              delights every palate.
            </p>
            <p class="card-text text-muted text-center">
              From traditional classics to innovative new dishes, we are committed to serving food that not only tastes
              good but also brings people together. Thank you for choosing us, and we look forward to serving you!
            </p>
          </div>
        </div>
      </div>
    </section>
    <!-- Contact Form Component (without card) -->
    <section class="container my-5" id="contact">
      <div class="mx-auto">
        <h5 class="card-title text-center mb-3">Contact Us</h5>
        <p class="card-text text-center text-muted">We would love to hear from you. Please fill out the form below.</p>
        <form>
          <div class="mb-3">
            <label for="contactName" class="form-label">Name</label>
            <input type="text" class="form-control" id="contactName" placeholder="Enter your name">
          </div>
          <div class="mb-3">
            <label for="contactEmail" class="form-label">Email address</label>
            <input type="email" class="form-control" id="contactEmail" placeholder="name@example.com">
          </div>
          <div class="mb-3">
            <label for="contactMessage" class="form-label">Message</label>
            <textarea class="form-control" id="contactMessage" rows="4" placeholder="Your message"></textarea>
          </div>
          <div class="d-grid gap-2">
            <button type="submit" class="btn btn-primary">Send Message</button>
          </div>
        </form>
      </div>
    </section>
  </div>

  <!-- Bootstrap JS (Bundle includes Popper) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const readMoreButtons = document.querySelectorAll('.read-more-btn');

    readMoreButtons.forEach(function (btn) {
      btn.addEventListener('click', function () {
        const card = btn.closest('.card'); // Find the parent card
        const textElement = card.querySelector('.card-text'); // Find the text inside the same card

        if (textElement) {
          textElement.classList.toggle('card-text-expanded');

          if (textElement.classList.contains('card-text-expanded')) {
            btn.textContent = 'Read less...';
          } else {
            btn.textContent = 'Read more...';
          }
        }
      });
    });
  });
document.addEventListener('DOMContentLoaded', function () {
    const btn = document.querySelector('a.show-more-btn');
    
    if (btn) {
      btn.addEventListener('click', function (e) {
        e.preventDefault();
        var current_value = `{{current}}`;
        const url = new URL(window.location.href);
        url.searchParams.set('more', parseInt(current_value)+4);
        url.hash = 'menuitem';

        window.location.href = url.toString();
      });
    }
  });

</script>

</html>