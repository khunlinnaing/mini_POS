{% load static %}
<!DOCTYPE html>
<html>

<head>
    <!-- Basic -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <!-- Site Metas -->
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <link rel="shortcut icon" href="{% static 'images/favicon.png' %}" type="">

    <title> Feane </title>

    <!-- bootstrap core css -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.css' %}" />

    <!--owl slider stylesheet -->
    <link rel="stylesheet" type="text/css"
        href="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/assets/owl.carousel.min.css" />
    <!-- nice select  -->
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/css/nice-select.min.css"
        integrity="sha512-CruCP+TD3yXzlvvijET8wV5WxxEh5H8P4cmz0RFbKK6FlZ2sYl3AEsKlLPHbniXKSrDdFewhbmBK5skbdsASbQ=="
        crossorigin="anonymous" />
    <!-- font awesome style -->
    <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet" />

    <!-- Custom styles for this template -->
    <link href="{% static 'css/frontendstyle.css' %}" rel="stylesheet" />
    <!-- responsive style -->
    <link href="{% static 'css/responsive.css' %}" rel="stylesheet" />

</head>

<body>

    
{% include './pages/basepages/header.html' %}
    {% block content%}
<!-- food section -->

    <section id="menuitems" class="food_section layout_padding-bottom">
        <div class="container">
            <div class="heading_container heading_center">
                <h2>
                    Our Menu
                </h2>
            </div>

            <ul class="filters_menu">
                <li class="{% if not selected_category %} active {% endif %}filter_category" attr-category-id="">All
                </li>
                {% for category in categories %}
                <li class="filter_category {% if selected_category.name == category.name %} active {% endif %}"
                    attr-category-id="{{category.id}}">{{category.name}}</li>
                {% endfor %}
            </ul>

            <div class="filters-content">
                <div class="row grid">
                    {% if menu_items %}
                    {% for item in menu_items %}
                    <div class="col-sm-6 col-lg-4 all {{item.category.name}}">
                        <div class="box">
                            <div>
                                <div class="img-box">
                                    <img src="{{item.image.url}}" alt="" class="w-100">
                                </div>
                                <div class="detail-box">
                                    <h5>
                                        {{item.name}}
                                    </h5>
                                    <p>
                                        {{item.description}}
                                    </p>
                                    <div class="options">
                                        <h6>
                                            {{item.price}} MMK
                                        </h6>
                                        <a href="{% if not request.user.is_authenticated %}{% url 'website:login-view' %}{% else %}{% url 'website:create-order' %}{% endif %}">
                                            start to order
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    {% else %}
                    <div class="alert alert-danger">
                        <h1 class="text-danger text-center">No Data</h1>
                    </div>
                    {% endif %}
                </div>
            </div>
            <div class="btn-box">
                {% if current < item_length%} <a class="btn btn-primary show-more-btn">
                    View More
                    </a>
                    {% endif %}
            </div>
        </div>
    </section>

    <!-- end food section -->

    <!-- about section -->

    <section class="about_section layout_padding" id="about">
        <div class="container  ">

            <div class="row">
                <div class="col-md-6 ">
                    <div class="img-box">
                        <img src="{% static 'images/about-img.png' %}" alt="">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="detail-box">
                        <div class="heading_container">
                            <h2>
                                We Are Feane
                            </h2>
                        </div>
                        <p>
                            There are many variations of passages of Lorem Ipsum available, but the majority have
                            suffered alteration
                            in some form, by injected humour, or randomised words which don't look even slightly
                            believable. If you
                            are going to use a passage of Lorem Ipsum, you need to be sure there isn't anything
                            embarrassing hidden in
                            the middle of text. All
                        </p>
                        <a href="">
                            Read More
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- end about section -->

    <!-- book section -->
    <section class="book_section layout_padding">
        <div class="container">
            <div class="heading_container">
                <h2>
                    Contact Us
                </h2>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="">
                        <form action="">
                            <div class="form-group my-3">
                                <label for="emailInput" class="form-label">Email</label>
                                <input type="text" class="form-control" id="emailInput"
                                    placeholder="Please enter your email">
                            </div>

                            <div class="form-group my-3">
                                <label for="phoneInput" class="form-label">Phone</label>
                                <input type="text" class="form-control" id="phoneInput"
                                    placeholder="Please enter your phone">
                            </div>

                            <div class="form-group my-3">
                                <label for="descriptionInput" class="form-label">Description</label>
                                <textarea class="form-control" id="descriptionInput" rows="5"></textarea>
                            </div>
                            <div class="form-group">
                                <button class="btn_box">
                                    Send
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="map_container ">
                        <div id="googleMap"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- end book section -->
{% endblock %}


    <!-- footer section -->
    {% include './pages/basepages/footer.html' %}
    <!-- footer section -->
    <!-- filter form -->
    <form method="post" action="/#menuitems" class="d-none form_post_data">
        {% csrf_token %}
        <input name="category_id">
        <input name="more">
    </form>
    <!-- end filter form -->
    <!-- jQery -->
     <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'js/jquery-3.4.1.min.js' %}"></script>
    <!-- popper js -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
        integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous">
        </script>
    <!-- bootstrap js -->
    <script src="{% static 'js/bootstrap.js' %}"></script>
    <!-- owl slider -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/OwlCarousel2/2.3.4/owl.carousel.min.js">
    </script>
    <!-- isotope js -->
    <script src="https://unpkg.com/isotope-layout@3.0.4/dist/isotope.pkgd.min.js"></script>
    <!-- nice select -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-nice-select/1.1.0/js/jquery.nice-select.min.js"></script>
    <!-- custom js -->
    <script src="{% static 'js/custom.js' %}"></script>
    <!-- Google Map -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCh39n5U-4IoWpsVGUHWdqB6puEkhRLdmI&callback=myMap">
    </script>
    <!-- End Google Map -->
    <script>

        document.addEventListener('DOMContentLoaded', function () {
            // read more
            const readMoreButtons = document.querySelectorAll('.read-more-btn');

            readMoreButtons.forEach(function (btn) {
                btn.addEventListener('click', function () {
                    const card = btn.closest('.card'); // Find the parent card
                    const textElement = card.querySelector('.card-text'); // Find the text inside the same card

                    if (textElement) {
                        textElement.classList.toggle('card-text-expanded');

                        if (textElement.classList.contains('card-text-expanded')) {
                            btn.textContent = 'Read less...';
                        } else {
                            btn.textContent = 'Read more...';
                        }
                    }
                });
            });
            // end read more click

            // click filter category btn
            const filterCategoryButtons = document.querySelectorAll("li.filter_category");

            filterCategoryButtons.forEach(button => {
                button.addEventListener('click', function () {
                    const categoryValue = this.getAttribute('attr-category-id');

                    const form = document.querySelector('.form_post_data');
                    const categoryInput = form.querySelector('input[name="category_id"]');
                    const more = form.querySelector('input[name="more"]');
                    if (categoryInput) {
                        categoryInput.value = categoryValue;
                        more.value = '';
                        form.submit();
                    }
                });
            });
            // click filter category btn
            // click more item button
            const btn = document.querySelector('a.show-more-btn');
            if (btn) {
                btn.addEventListener('click', function () {
                    const selectedCategory = document.querySelector('li.filter_category.active');
                    const form = document.querySelector('.form_post_data');
                    const categoryInput = form.querySelector('input[name="category_id"]');
                    const more = form.querySelector('input[name="more"]');
                    if (selectedCategory) {
                        const selectedValue = selectedCategory.getAttribute('attr-category-id');
                        categoryInput.value = selectedValue;
                        more.value = parseInt(`{{current}}`) + 4;
                        form.submit();
                    }
                });
            }
        });

    </script>
</body>

</html>